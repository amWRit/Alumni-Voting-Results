!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).confetti=t()}(this,function(){"use strict";var e=function(){function e(e,t,n){this.x=e,this.y=t,this.z=n}return e.prototype.rotate=function(t){var n=Math.cos(t),r=Math.sin(t);return new e(this.x*n-this.y*r,this.x*r+this.y*n,this.z)},e}(),t=function(){return new Promise(function(e){requestAnimationFrame(e)})},n=function(e){return e*Math.PI/180},r=function(e,t,n){return Math.min(Math.max(e,t),n)};function i(e){var t=e.angle,i=void 0===t?90:t,a=e.spread,o=void 0===a?45:a,u=e.startVelocity,c=void 0===u?45:u,s=e.elementCount,f=void 0===s?50:s,l=e.decay,d=void 0===l?.9:l,v=e.colors,h=void 0===v?["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"]:v,m=e.random,p=void 0===m?Math.random:m,y=document.createElement("canvas");y.style.position="fixed",y.style.top="0px",y.style.left="0px",y.style.pointerEvents="none",y.style.zIndex="999999";var w=y.getContext("2d");if(!w)return Promise.reject(new Error("Could not get canvas context"));document.body.appendChild(y);var g=!1,x=function(){g=!0};window.addEventListener("resize",x);var b=function(){var e=window.innerWidth,t=window.innerHeight;y.width=e,y.height=t},P=function(e){var t=e.x,i=e.y,a=e.rotation,o=e.color,u=e.size;w.fillStyle=o,w.beginPath();var c=new Array(5).fill(0).map(function(r,c){var s=c/5*(2*Math.PI),f=u*Math.cos(s+a),l=u*Math.sin(s+a);return new Array(2).fill(0).map(function(r,a){var o=.5*a,c=new Array(2).fill(0).map(function(t,r){var a=o*Math.cos(s+n(72*r)+a),c=o*Math.sin(s+n(72*r)+a);return new e(a,c,0)}).map(function(e){return e.rotate(a)});return new e(t+f+c[0].x,i+l+c[0].y,0)})}).reduce(function(e,t){return e.concat(t)},[]);w.moveTo(c[0].x,c[0].y);for(var s=1;s<c.length;s++)w.lineTo(c[s].x,c[s].y);w.closePath(),w.fill()};return new Promise(function(e){b();var a=n(90-i),u=n(o),s=0,l=new Array(f).fill(0).map(function(e){var t=p();return{x:window.innerWidth/2,y:window.innerHeight,size:7*p()+7,rotation:n(360*p()),speed:c*(1+.5*p()),angle:a-u+2*u*t,color:h[Math.floor(p()*h.length)],decay:d,tick:0}});!function n(){if(!g){requestAnimationFrame(n);for(var i=0;i<l.length;i++){var a=l[i];a.x+=Math.cos(a.angle)*a.speed,a.y+=Math.sin(a.angle)*a.speed+2,a.rotation+=.1,a.speed*=a.decay,a.tick++;var o=150*Math.cos(.5*a.tick)+150;a.y>window.innerHeight+o&&(l.splice(i,1),i--)}s+=.1,w.clearRect(0,0,window.innerWidth,window.innerHeight);for(var u=0,c=l;u<c.length;u++){var f=c[u];P({x:f.x,y:f.y,rotation:f.rotation,color:f.color,size:f.size})}0===l.length&&(window.removeEventListener("resize",x),document.body.removeChild(y),e())}}()})}

// Set up the TSParticles configuration object
window.confetti = function(t){return i(Object.assign({angle:90,spread:45,startVelocity:45,elementCount:50,decay:.9},t))};

// Add methods to update particle effects
window.confetti.create=function(t,n){return i(Object.assign({angle:90,spread:45,startVelocity:45,elementCount:50,decay:.9},t,n))};

window.confetti.shred=function(){document.querySelectorAll("canvas").forEach(function(t){t.parentNode.removeChild(t)})};
});